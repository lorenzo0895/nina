<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<div th:replace="fragments/general.html :: link"></div>
	<link rel="stylesheet" href="/css/usuario-perfil.css">
	<title>Perfil</title>
</head>

<body>

	<div th:replace="fragments/general.html :: fondo"></div>
	<nav th:replace="fragments/general.html :: nav"></nav>

	<main>
		<form action="/editarPerfil" method="POST">
			<h1>Perfil</h1>
			<p class="alert alert-danger" role="alert" th:if="${error != null}" th:text="${error}"></p>
			<p class="alert alert-success" role="alert" th:if="${msj != null}" th:text="${msj}"></p>
			<div class="contenido">
				<section>
					<h2>Datos</h2>
					<input name="username" type="text" class="form-control input" id="text" placeholder="usuario"
						autocomplete="off" th:value="${username != null ? username : session.usersession.username}">
					<input name="nombre" type="text" class="form-control input" id="text" placeholder="nombre"
						autocomplete="off" th:value="${nombre != null ? nombre : session.usersession.nombre}">
					<a type="submit" class="btn btn-secondary" onclick="abrirEmergente()">Cambiar	contraseña</a>
				</section>
				<section>
					<h2>Permisos</h2>
					<p>Para editar los permisos igrese al módulo Usuarios.</p>
					<div class="div-check">
						<input name="permiso_abrir_dias" class="switch" type="checkbox"
							th:if="${!usuario.permiso_abrir_dias}" disabled>
						<input name="permiso_abrir_dias" class="switch" type="checkbox"
							th:if="${usuario.permiso_abrir_dias}" checked disabled>
						<span>Abrir días</span>
					</div>
					<div class="div-check">
						<input name="permiso_cerrar_dias" class="switch" type="checkbox"
							th:if="${!usuario.permiso_cerrar_dias}" disabled>
						<input name="permiso_cerrar_dias" class="switch" type="checkbox"
							th:if="${usuario.permiso_cerrar_dias}" checked disabled>
						<span>Cerrar días</span>
					</div>
					<div class="div-check">
						<input name="permiso_ingresar" class="switch" type="checkbox"
							th:if="${!usuario.permiso_ingresar}" disabled>
						<input name="permiso_ingresar" class="switch" type="checkbox"
							th:if="${usuario.permiso_ingresar}" checked disabled>
						<span>Ingresar comprobantes</span>
					</div>
					<div class="div-check">
						<input name="permiso_modificar" class="switch" type="checkbox"
							th:if="${!usuario.permiso_modificar}" disabled>
						<input name="permiso_modificar" class="switch" type="checkbox"
							th:if="${usuario.permiso_modificar}" checked disabled>
						<span>Modificar comprobantes</span>
					</div>
					<div class="div-check">
						<input name="permiso_cerrar_modificaciones" class="switch" type="checkbox"
							th:if="${!usuario.permiso_cerrar_modificaciones}" disabled>
						<input name="permiso_cerrar_modificaciones" class="switch" type="checkbox"
							th:if="${usuario.permiso_cerrar_modificaciones}" checked disabled>
						<span>Cerrar comprobantes</span>
					</div>
					<div class="div-check">
						<input name="permiso_modificar_usuarios" class="switch" type="checkbox"
							th:if="${!usuario.permiso_modificar_usuarios}" disabled>
						<input name="permiso_modificar_usuarios" class="switch" type="checkbox"
							th:if="${usuario.permiso_modificar_usuarios}" checked disabled>
						<span>Modificar usuarios</span>
					</div>
				</section>
			</div>
			<button type="submit" class="btn btn-secondary">Actualizar datos</button>
		</form>
		<div class="difuso" id="difuso">
			<form class="formConcepto" action="/cambioPaswword" method="POST">
				<img class="cerrarConcepto" src="/images/botonCerrar.png" alt="cerrarConcepto" onclick="cerrarEmergente()">
				<h2>Cambio de contraseña</h2>
				<input type="password" class="form-control" id="conceptoNuevo" placeholder="contraseña anterior" name="passwordAnterior">
				<input type="password" class="form-control" id="conceptoNuevo" placeholder="nueva contraseña" name="password1">
				<input type="password" class="form-control" id="conceptoNuevo" placeholder="nueva contraseña" name="password2">
				<button type="submit" class="btn btn-secondary">Cargar</button>
			</form>
		</div>
	</main>
	<script src="/js/app.js"></script>
</body>

</html>